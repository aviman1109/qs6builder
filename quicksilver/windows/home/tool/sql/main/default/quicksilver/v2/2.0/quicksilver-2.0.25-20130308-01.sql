delete from TsToolItem where FId='5ead0df9-6480-48a1-918a-d84acd3bfc2b';
delete from TsToolItem where FId='e4146e8d-5a11-47d4-9b84-f424206b200b';
delete from TsToolItem where FId='3c7f8ab2-8bd1-4ee8-a5a7-6b3b4b7cd10b';
insert into TsToolItem set FId='5ead0df9-6480-48a1-918a-d84acd3bfc2b', FPageId='2bbea6fb-1e90-4b21-9887-2278ab7fd805', FCode='QuerySchema',			FName='请选择查询方案或输入关键字', FLabel='',	FType='ComboBox-Inputable', FAlign='left',	FIndex=1, FWidth=175,	FDefaultEventHandler='EntityList.doQuerySchemaChange',		FIcon='',									FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='QuerySchema',	FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FHint='请输入关键字并按回车键查询，或下拉选择查询方案查询。您也可以点击查询框右侧的按钮，增加自定义查询方案。';
insert into TsToolItem set FId='e4146e8d-5a11-47d4-9b84-f424206b200b', FPageId='2bbea6fb-1e90-4b21-9887-2278ab7fd805', FCode='QuerySchemaConfig',	FName=null,                         FLabel='',	FType='Button',             FAlign='left',  FIndex=2, FWidth=0,		FDefaultEventHandler='EntityList.doQuerySchemaConfig',		FIcon='quicksilver/image/16/Config.gif',	FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null;
insert into TsToolItem set FId='3c7f8ab2-8bd1-4ee8-a5a7-6b3b4b7cd10b', FPageId='2bbea6fb-1e90-4b21-9887-2278ab7fd805', FCode='QuerySchemaLock',		FName=null,                         FLabel='',	FType='Button',             FAlign='left',	FIndex=3, FWidth=0,		FDefaultEventHandler='EntityList.doQuerySchemaLockClick',   FIcon='quicksilver/image/16/LockOpen.png',	FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,			FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FHint='锁定/解锁查询方案或关键字。在锁定状态下，查询方案或关键字将与其它条件联合查询。';

delete from TsToolItem where FId='c446ca70-22ca-4d60-ac15-74cd6a367786';
delete from TsToolItem where FId='d7175b4a-dd59-43c9-b375-1e16a20712af';
delete from TsToolItem where FId='0ee940fc-38ed-487a-989a-1f5c8a6cfa89';
insert into TsToolItem set FId='c446ca70-22ca-4d60-ac15-74cd6a367786', FPageId='5a3291d1-9759-4c35-b969-25758a38019e', FCode='QuerySchema',			FName='请选择查询方案或输入关键字', FLabel='', FType='ComboBox-Inputable',	FAlign='left',	FIndex=1, FWidth=175,	FDefaultEventHandler='EntityList.doQuerySchemaChange',		FIcon='',									FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='QuerySchema',	FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FHint='请输入关键字并按回车键查询，或下拉选择查询方案查询。您也可以点击查询框右侧的按钮，增加自定义查询方案。';
insert into TsToolItem set FId='d7175b4a-dd59-43c9-b375-1e16a20712af', FPageId='5a3291d1-9759-4c35-b969-25758a38019e', FCode='QuerySchemaConfig',	FName=null,                         FLabel='', FType='Button',				FAlign='left',  FIndex=2, FWidth=0,		FDefaultEventHandler='EntityList.doQuerySchemaConfig',		FIcon='quicksilver/image/16/Config.gif',	FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null;
insert into TsToolItem set FId='0ee940fc-38ed-487a-989a-1f5c8a6cfa89', FPageId='5a3291d1-9759-4c35-b969-25758a38019e', FCode='QuerySchemaLock',		FName=null,                         FLabel='', FType='Button',				FAlign='left',	FIndex=3, FWidth=0,		FDefaultEventHandler='EntityList.doQuerySchemaLockClick',   FIcon='quicksilver/image/16/LockOpen.png',	FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,			FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FHint='锁定/解锁查询方案或关键字。在锁定状态下，查询方案或关键字将与其它条件联合查询。';

delete from TsField where FId='74c0f583-0d97-4d8f-b2d6-24a5ff84f030';
java setFormFields('031c7edf-6c2a-4d10-a73b-fcf56bfc84a6', 'FRoleId,FPrivilegeId');
java setListFields('ff9f6f70-4bf6-455b-aaa6-c8afb995d0d2', 'FRoleId');

update TsMenu set FIndex = FIndex + 1 where FParentId = '00000000-0000-0000-0008-990000000020' and FIndex >= 15;

create table TsI18nExcel
(
	FId uuid primary key,
	FDirectory varchar(20),
	FFileName varchar(100),
	FSize int,
	FDigest varchar(50),
	unique(FDirectory, FFileName)
);

--Qs.LoginLog

alter table TsLoginLog add FClusterNode varchar(50);
update TsLoginLog set FClusterNode = FServer;
alter table TsLoginLog drop FServer;

delete from TsField where FId='bbefaabc-19a2-4a84-965d-112c4849454a';
insert into TsField set FId='bbefaabc-19a2-4a84-965d-112c4849454a', FUnitId='00000000-0000-0000-0001-000000001008', FName='FClusterNode',    FTitle='集群节点',   FType='InputBox-Text',       FSize=50,   FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=null, FLocalTextField=null, FSelectListFilterSql=null, FSourceType='local', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1, FIsNewRow=null, FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null;

java setQueryFormFields('00000000-0000-0000-0001-000000001008', 'FUserId,FTime,FIpAddress,FClusterNode,FAction');
java setFormFields('b395cfda-f344-42d7-8256-841c2a6f4842', '基本信息', 'cead1678-a14e-4c05-abd3-c60773e13d7f', null, 'FUserId,FTime,FAction,FIpAddress,FClusterNode,FSessionId');
java setListFields('aecb6714-aa2e-4d83-bb46-a74abcd8bba7', 'FUserId,FIpAddress,FAction,FTime,FClusterNode,FSessionId');

--Qs.OnlineUser

alter table TsOnlineUser add FClusterNode varchar(50);
update TsOnlineUser set FClusterNode = FServer;
alter table TsOnlineUser drop FServer;

delete from TsField where FId='1e32d108-c396-444f-936b-56c68ab0a74f';
insert into TsField set FId='1e32d108-c396-444f-936b-56c68ab0a74f', FUnitId='e4da095a-1f19-41f5-af6a-f43258569516', FName='FClusterNode',         FTitle='集群节点',     FType='InputBox-Text',    FSize=50,   FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null, FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1, FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;

java setQueryFormFields('e4da095a-1f19-41f5-af6a-f43258569516', 'FUserId,FIpAddress,FLoginTime,FLastAccessTime,FClusterNode,FLanguageId,FSessionId');
java setFormFields('1956e939-e2ab-43de-be4c-46f0bdf34df5', '基本信息', '44d5ad3c-4030-484a-ba48-200be9a800f6', null, 'FUserId,FIpAddress,FLoginTime,FLastAccessTime,FSessionId,FClusterNode,FLanguageId');
java setListFields('21699a22-25f6-4641-9f10-88bc08bb43a8', 'FUserId,FIpAddress,FLoginTime,FLastAccessTime,FClusterNode,FLanguageId,FSessionId');

--Qs.ClusterNode----------------------------------------------------------------

create table TsClusterNode
(
	FId uuid primary key,
	FName varchar(50) unique,
	FLastConfirmTime timestamp
);

insert into TsUnit set FId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FCode='Qs.ClusterNode', FName='集群节点', FIcon='quicksilver/image/unit/ClusterNode.png', FEditId='541c707d-79dd-4dbb-85fc-1a214fd5fce4', FModuleId='00000000-0000-0000-0008-990000000020', FOpenMode='System', FIsTreeStructure=0, FMaxTreeLevel=null, FIsSlaveUnit=0, FMasterUnitId=null, FSupportUser=0, FSupportDepartment=0, FSupportEditType=0, FSupportAttachment=0, FSupportDataPrivilege=0, FSupportBusinessLog=0, FSupportNote=0, FSupportSort=0, FSupportPrivilegeField=0, FSupportEqualQuery=0, FExtraQueryResultLimit=0, FRecordCreateInfo=0, FRecordUpdateInfo=0, FRecordDeleteInfo=0, FQueryFormAutoQuery=0, FOpenViewPageFirst=0, FDataSource='default', FTable='TsClusterNode', FKeyField='FId', FKeyType='Uuid', FNameField='FName', FMasterField=null, FHomeClassName='com.jeedsoft.quicksilver.monitor.ClusterNodeHome', FDaoClassName='com.jeedsoft.quicksilver.monitor.dao.impl.ClusterNodeDaoImpl', FServiceClassName='com.jeedsoft.quicksilver.monitor.service.impl.ClusterNodeServiceImpl', FActionClassName='com.jeedsoft.quicksilver.monitor.action.impl.ClusterNodeActionImpl', FUnitFilterSql='', FBusinessFilterSql='', FDescription='', FSupportVersion=0, FUseSystemI18nTable=null, FSupportWorkflow=0, FIsFullTextSearch=0, FSearchAttachment=0;

insert into TsField set FId='4130cdb3-61e8-458d-8abc-a1fda6549bfd', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FName='FId',              FTitle='ID',           FType='InputBox-Key',     FSize=null, FVisible=0, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=0, FDictionaryId=null, FEntityUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FSupportLocalText=null, FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql=null, FSourceType='local', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1, FIsNewRow=null, FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=null, FHint=null;
insert into TsField set FId='08e2ae66-2648-46cb-beeb-55b6d1192455', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FName='FLastConfirmTime', FTitle='最近确认时间', FType='DateBox-DateTime', FSize=null, FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null, FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1, FIsNewRow=0,    FListWidth=120, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;
insert into TsField set FId='22b4b2d6-3b6d-42ec-b71c-dde69555bdd1', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FName='FName',            FTitle='节点',         FType='InputBox-Text',    FSize=50,   FVisible=1, FFilterByRole=0, FRequired=1, FReadOnly=0, FQueryable=1, FDictionaryId=null, FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1, FIsNewRow=0,    FListWidth=150, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;

java setOrderFields('f580bcca-add9-4d56-8b2e-b43bc3ce13b0', 'FLastConfirmTime', '1');
java setQueryFormFields('f580bcca-add9-4d56-8b2e-b43bc3ce13b0', 'FName,FLastConfirmTime');
java setKeywordFields('f580bcca-add9-4d56-8b2e-b43bc3ce13b0', 'FName');

insert into TsPage set FId='79fb1a28-1f37-470d-a1c8-891180aa43bb', FName='集群节点选择列表', FTitle='集群节点列表', FCode='Qs.ClusterNode.SelectList', FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/ClusterNode.png', FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='Qs.ClusterNode.prepareList', FLoadHandler=null, FRelationId=null, FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FVisible=1, FDescription=null, FHasViewFrame=null;
insert into TsPage set FId='be81b943-c758-4f81-8f30-95a056b32b38', FName='集群节点主列表',   FTitle='集群节点列表', FCode='Qs.ClusterNode.List',       FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/ClusterNode.png', FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='Qs.ClusterNode.prepareList', FLoadHandler=null, FRelationId=null, FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FVisible=1, FDescription=null, FHasViewFrame=null;
insert into TsPage set FId='9d8558be-2dd4-4023-8762-e4d6cbb17866', FName='集群节点表单',     FTitle='表单',         FCode='Qs.ClusterNode.Edit',       FPlatform='Computer', FType='EntityEdit', FIcon='quicksilver/image/unit/Edit.gif',        FUrl='quicksilver/page/template/EntityEdit.jsp', FActionMethodName='Qs.ClusterNode.prepareEdit', FLoadHandler=null, FRelationId=null, FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FMasterUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FIsSlavePage=1, FIndex=1,    FDialogWidth=604,  FDialogHeight=453,  FVisible=1, FDescription=null, FHasViewFrame=null;

--集群节点选择列表
insert into TsToolItem set FId='ba55fa12-a51d-4434-9d91-070bf48504a5', FPageId='79fb1a28-1f37-470d-a1c8-891180aa43bb', FCode='QuerySchema',       FName='请选择查询方案或输入关键字', FHint='请输入关键字并按回车键查询，或下拉选择查询方案查询。您也可以点击查询框右侧的按钮，增加自定义查询方案。', FLabel=null, FType='ComboBox-Inputable', FAlign='left',  FIndex=1, FWidth=175, FIcon=null,                                FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='QuerySchema', FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaChange',    FConfirmMessage=null;
insert into TsToolItem set FId='e4a16f63-a3d7-4aa6-bfab-b1fa51ff9477', FPageId='79fb1a28-1f37-470d-a1c8-891180aa43bb', FCode='QuerySchemaConfig', FName=null,                         FHint='查询方案设置',                                                                                       FLabel=null, FType='Button',             FAlign='left',  FIndex=2, FWidth=0,   FIcon='quicksilver/image/16/Config.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaConfig',    FConfirmMessage=null;
insert into TsToolItem set FId='3338648e-4c72-49b2-aca5-97915468fb43', FPageId='79fb1a28-1f37-470d-a1c8-891180aa43bb', FCode='QuerySchemaLock',   FName=null,                         FHint='切换将查询方案与查询表单的锁定状态。锁定后，只显示同时满足查询方案和查询表单条件的数据。',           FLabel=null, FType='Button',             FAlign='left',  FIndex=3, FWidth=0,   FIcon='quicksilver/image/16/LockOpen.png', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaLockClick', FConfirmMessage=null;
insert into TsToolItem set FId='390b88c6-935d-4731-bed7-e09c72b1116a', FPageId='79fb1a28-1f37-470d-a1c8-891180aa43bb', FCode='ConfirmSelection',  FName='确定',                       FHint=null,                                                                                                 FLabel=null, FType='Button',             FAlign='right', FIndex=1, FWidth=0,   FIcon='quicksilver/image/16/Ok.gif',       FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doSelectListConfirm',    FConfirmMessage=null;
insert into TsToolItem set FId='3e6553c2-586e-4604-85b6-d7b85adf4a11', FPageId='79fb1a28-1f37-470d-a1c8-891180aa43bb', FCode='Open',              FName='打开',                       FHint='打开当前选中的记录。如果选中了多笔，第一笔将被打开。',                                               FLabel=null, FType='Button',             FAlign='right', FIndex=3, FWidth=0,   FIcon='quicksilver/image/16/Open.gif',     FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doOpen',                 FConfirmMessage=null;
insert into TsToolItemProperty set FId='40f9f0b6-11dc-4c22-b852-ce26573dd5c2', FToolItemId='ba55fa12-a51d-4434-9d91-070bf48504a5', FName='onkeydown', FValue='EntityList.doQuerySchemaKeyDown';

--集群节点主列表
insert into TsToolItem set FId='4ae81d2b-59e2-45fb-977a-62b8e0df7f1b', FPageId='be81b943-c758-4f81-8f30-95a056b32b38', FCode='QuerySchema',       FName='请选择查询方案或输入关键字', FHint='请输入关键字并按回车键查询，或下拉选择查询方案查询。您也可以点击查询框右侧的按钮，增加自定义查询方案。', FLabel=null, FType='ComboBox-Inputable', FAlign='left',  FIndex=1, FWidth=175, FIcon=null,                                FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='QuerySchema',  FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaChange',    FConfirmMessage=null;
insert into TsToolItem set FId='cef202e9-3c14-409d-92ff-68fc4f100e51', FPageId='be81b943-c758-4f81-8f30-95a056b32b38', FCode='QuerySchemaConfig', FName=null,                         FHint='查询方案设置',                                                                                       FLabel=null, FType='Button',             FAlign='left',  FIndex=2, FWidth=0,   FIcon='quicksilver/image/16/Config.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaConfig',    FConfirmMessage=null;
insert into TsToolItem set FId='4bf4f4a5-6dee-489b-8456-e65359a7d5aa', FPageId='be81b943-c758-4f81-8f30-95a056b32b38', FCode='QuerySchemaLock',   FName=null,                         FHint='切换将查询方案与查询表单的锁定状态。锁定后，只显示同时满足查询方案和查询表单条件的数据。',           FLabel=null, FType='Button',             FAlign='left',  FIndex=3, FWidth=0,   FIcon='quicksilver/image/16/LockOpen.png', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaLockClick', FConfirmMessage=null;
insert into TsToolItem set FId='306c3905-7cc8-4e0d-ba7a-adc860d6f250', FPageId='be81b943-c758-4f81-8f30-95a056b32b38', FCode='Open',              FName='打开',                       FHint='打开当前选中的记录。如果选中了多笔，第一笔将被打开。',                                               FLabel=null, FType='Button',             FAlign='right', FIndex=2, FWidth=0,   FIcon='quicksilver/image/16/Open.gif',     FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doOpen',                 FConfirmMessage=null;
insert into TsToolItem set FId='d76aec44-30c8-4802-bd25-df3d673ea004', FPageId='be81b943-c758-4f81-8f30-95a056b32b38', FCode='Refresh',           FName='刷新',                       FHint='刷新列表内容',                                                                                       FLabel=null, FType='Button',             FAlign='right', FIndex=4, FWidth=0,   FIcon='quicksilver/image/16/Refresh.gif',  FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doRefresh',              FConfirmMessage=null;
insert into TsToolItem set FId='96fc6324-fe5a-46ca-b646-ce14b2a734f8', FPageId='be81b943-c758-4f81-8f30-95a056b32b38', FCode='Other',             FName=null,                         FHint=null,                                                                                                 FLabel=null, FType='ComboButton',        FAlign='right', FIndex=5, FWidth=0,   FIcon='quicksilver/image/16/Other.gif',    FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='SubItemTable', FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='None',       FHandlePageId=null, FDefaultEventHandler=null,                                FConfirmMessage=null;
insert into TsToolSubItem set FId='5ffcc5af-960b-42bf-8a7d-4cc6951619c2', FToolItemId='96fc6324-fe5a-46ca-b646-ce14b2a734f8', FCode='ExcelExport', FName='导出 Excel', FExpandMode='None', FIndex=2, FIcon='quicksilver/image/16/Excel.gif',  FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FEventHandler='EntityList.doExcelExport', FConfirmMessage=null;
insert into TsToolItemProperty set FId='2c680cd4-ee50-4330-b0d0-aefaec9a4d42', FToolItemId='4ae81d2b-59e2-45fb-977a-62b8e0df7f1b', FName='onkeydown', FValue='EntityList.doQuerySchemaKeyDown';

insert into TsForm set FDefault=1, FEditableCondition=null, FGroupMode='Double', FId='228b80a4-20da-46f9-b200-2caacf95972e', FIndex=1, FName='默认', FPageId=null, FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0';
java setFormFields('228b80a4-20da-46f9-b200-2caacf95972e', '基本信息', '9859d274-94cd-42c1-a507-88f1c36b688f', null, 'FName,FLastConfirmTime');

insert into TsList set FDefault=0, FId='0be2f7ef-bfa8-4368-9657-b92e9c6d3bb5', FIndex=null, FMultiPage=1, FName='集群节点首页列表',     FPageId='9b796431-f132-49d1-b306-5d1d618f9c1b', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0';
insert into TsList set FDefault=0, FId='75fe232f-abaa-4e0a-903c-d21c45bd2bab', FIndex=null, FMultiPage=1, FName='集群节点选择列表',     FPageId='79fb1a28-1f37-470d-a1c8-891180aa43bb', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0';
insert into TsList set FDefault=1, FId='30821512-4ef4-4906-9697-d628319eacea', FIndex=null, FMultiPage=1, FName='集群节点列表',			FPageId=null,                                   FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0';
java setListFields('30821512-4ef4-4906-9697-d628319eacea', 'FName,FLastConfirmTime');
java setListFields('0be2f7ef-bfa8-4368-9657-b92e9c6d3bb5', 'FName,FLastConfirmTime');
java setListFields('75fe232f-abaa-4e0a-903c-d21c45bd2bab', 'FName,FLastConfirmTime');

insert into TsPrivilege set FId='799e795c-8475-4773-b634-47bdb85d4ddb', FName='集群节点查看', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FModuleId='00000000-0000-0000-0008-990000000020', FPrivilegeTypeId='00000000-0000-0000-1005-000000000002', FUseExisting=0, FSourcePrivilegeId=null, FCanBeUser=0, FCanBeDepartment=0, FCanBeGlobal=1, FUserFields=null, FDepartmentFields=null, FExtraOrSql=null, FEditId='5992c3d2-0b4a-478c-bbfa-2089819ad575', FIndex=null;
insert into TsPrivilege set FId='32ef8052-e5e5-4b84-9b96-521ea50c0582', FName='集群节点管理', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FModuleId='00000000-0000-0000-0008-990000000020', FPrivilegeTypeId='00000000-0000-0000-1005-000000000006', FUseExisting=0, FSourcePrivilegeId=null, FCanBeUser=0, FCanBeDepartment=0, FCanBeGlobal=1, FUserFields=null, FDepartmentFields=null, FExtraOrSql='',   FEditId='5992c3d2-0b4a-478c-bbfa-2089819ad575', FIndex=null;

insert into TsQuerySchema set FId='5cb866a3-283a-4b7a-bce9-7ffd3b1dcfb9', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FName='全部集群节点',   FType='condition',  FPublic=1, FTemp=0, FGlobalAutoQuery=0, FShare=0, FUserId=null, FConditionId=null, FSqlSource='None', FSql=null, FIndex=1, FUpdateTime=null, FOriginSchemaId=null;
insert into TsQuerySchema set FId='6e09563f-7da2-4708-aecd-ccb7da583586', FUnitId='f580bcca-add9-4d56-8b2e-b43bc3ce13b0', FName='集群节点收藏夹', FType='collection', FPublic=1, FTemp=0, FGlobalAutoQuery=0, FShare=0, FUserId=null, FConditionId=null, FSqlSource='None', FSql=null, FIndex=3, FUpdateTime=null, FOriginSchemaId=null;

insert into TsMenu set FId='8c2a7bf9-d5f7-4a74-bbf3-245710ef9280', FParentId='00000000-0000-0000-0008-990000000020', FIndex=15, FTreeLevel=3, FTreeSerial='004.002.017', FName='集群管理', FIcon='quicksilver/image/16/Cluster.png', FPageId='be81b943-c758-4f81-8f30-95a056b32b38', FArguments=null, FLicensed=1, FEnabled=1, FReplaceByChildren=0, FFunctionName=null, FSubMenuSource='MenuTable', FSubMenuRoutine='';

--Qs.Timer----------------------------------------------------------------

alter table TsTimer add FAllowConcurrentRun bit;
alter table TsTimer add FBaseTime timestamp;
update TsTimer set FBaseTime = FInitialTime;
alter table TsTimer drop FInitialTime;

delete from TsField where FId='1622d934-2a5e-4242-bfe8-fdda9dd9243f';
delete from TsField where FId='2958ddcd-6de4-4982-bd41-903384b9ab65';
delete from TsField where FId='984ba45f-b2e7-49ae-819a-a220b60fadc5';
insert into TsField set FId='1622d934-2a5e-4242-bfe8-fdda9dd9243f', FUnitId='00000000-0000-0000-0001-000000000022', FName='FAllowConcurrentRun',	FTitle='允许集群并发执行', FType='CheckBox',            FSize=null, FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1, FIsNewRow=0,    FListWidth=106, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0, FHint=null;
insert into TsField set FId='2958ddcd-6de4-4982-bd41-903384b9ab65', FUnitId='00000000-0000-0000-0001-000000000022', FName='FEnabled',				FTitle='是否启用',         FType='CheckBox',            FSize=0,    FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=1, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=null, FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql=null, FSourceType='local', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1, FIsNewRow=null, FListWidth=60,  FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0, FHint=null;
insert into TsField set FId='984ba45f-b2e7-49ae-819a-a220b60fadc5', FUnitId='00000000-0000-0000-0001-000000000022', FName='FBaseTime',				FTitle='基准时间',         FType='DateBox-DateTime',    FSize=0,    FVisible=1, FFilterByRole=0, FRequired=1, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=null, FLocalTextField=null, FSelectListFilterSql=null, FSourceType='local', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1, FIsNewRow=null, FListWidth=120, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null;

java setFormFields('fad82588-f46b-4b0c-9b9d-a22e98a00354', '基本信息', '04d7c872-3fb2-4614-9485-5894185700a1', null, 'FName,FType,FRoutine,FSystemStartupAction,FIntervalLength,FIntervalType', '控制选项', '4316b02b-73f5-42d5-b5a5-36c334d5536c', '04d7c872-3fb2-4614-9485-5894185700a1', 'FMonthEnd,FAllowConcurrentRun,FEnabled', '时间信息', 'df2264d3-cdf7-46e5-b9a8-1493e5a3337f', '04d7c872-3fb2-4614-9485-5894185700a1', 'FBaseTime,FLastTime,FNextTime');
java setListFields('25df4c54-d3c8-4054-894b-722d1b5b21a5', 'FName,FType,FIntervalLength,FIntervalType,FEnabled,FAllowConcurrentRun,FBaseTime,FLastTime,FRoutine');

delete from TsPage where FId='0953493e-d9f6-4f0e-a9a5-21a36b3fd97b';
delete from TsPage where FId='3a8cdc1d-b6a2-462f-a2ab-6bc7fbf83ad2';
insert into TsPage set FId='0953493e-d9f6-4f0e-a9a5-21a36b3fd97b', FName='定时器表单',				FTitle='表单',			FCode='Qs.Timer.Edit', FType='EntityEdit', FIcon='quicksilver/image/16/Form.png',    FUrl='quicksilver/page/template/EntityEdit.jsp', FActionMethodName='Qs.Timer.prepareEdit', FLoadHandler='TimerEdit.doLoad', FRelationId=null, FUnitId='00000000-0000-0000-0001-000000000022', FMasterUnitId='00000000-0000-0000-0001-000000000022', FIsSlavePage=1, FPlatform='Computer', FIndex=1,    FDialogWidth=604,  FDialogHeight=350,  FDescription=null, FVisible=1;
insert into TsPage set FId='3a8cdc1d-b6a2-462f-a2ab-6bc7fbf83ad2', FName='定时器定时器日志列表', FTitle='定时器日志', FCode='Qs.Timer.TimerLogList', FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/TimerLog.png', FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='Qs.TimerLog.prepareList', FLoadHandler=null,               FRelationId='a8b2cc2b-a442-42ad-9fb4-90f8423d8463', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FMasterUnitId='00000000-0000-0000-0001-000000000022', FIsSlavePage=1, FIndex=2,    FDialogWidth=null, FDialogHeight=null, FVisible=1, FDescription=null, FHasViewFrame=null;

--定时器定时器日志列表
insert into TsToolItem set FId='12a44108-8292-4101-a8c1-37ce8b09ed2c', FPageId='3a8cdc1d-b6a2-462f-a2ab-6bc7fbf83ad2', FCode='Open',    FName='打开', FHint='打开当前选中的记录。如果选中了多笔，第一笔将被打开。', FLabel=null, FType='Button',      FAlign='right', FIndex=2, FWidth=0, FIcon='quicksilver/image/16/Open.gif',    FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doOpen',    FConfirmMessage=null;
insert into TsToolItem set FId='59b1ef07-2387-4463-8831-2ef3c7aae515', FPageId='3a8cdc1d-b6a2-462f-a2ab-6bc7fbf83ad2', FCode='Refresh', FName='刷新', FHint='刷新列表内容',                                         FLabel=null, FType='Button',      FAlign='right', FIndex=4, FWidth=0, FIcon='quicksilver/image/16/Refresh.gif', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doRefresh', FConfirmMessage=null;
insert into TsToolItem set FId='171ba801-e693-4846-b125-9db73a201e08', FPageId='3a8cdc1d-b6a2-462f-a2ab-6bc7fbf83ad2', FCode='Other',   FName=null,   FHint=null,                                                   FLabel=null, FType='ComboButton', FAlign='right', FIndex=5, FWidth=0, FIcon='quicksilver/image/16/Other.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='SubItemTable', FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='None',       FHandlePageId=null, FDefaultEventHandler=null,                   FConfirmMessage=null;
insert into TsToolSubItem set FId='ce21414b-9bb6-473a-b9c6-eb16d850c198', FToolItemId='171ba801-e693-4846-b125-9db73a201e08', FCode='ExcelExport', FName='导出 Excel', FExpandMode='None', FIndex=1, FIcon='quicksilver/image/16/Excel.gif',  FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FEventHandler='EntityList.doExcelExport', FConfirmMessage=null;

--Qs.TimerLog-------------------------------------------------------------------

create table TsTimerLog
(
	FId uuid primary key,
	FTimerId uuid,
	FClusterNode varchar(50),
	FStartTime timestamp,
	FEndTime timestamp,
	FCallType varchar(10),
	FStatus varchar(20),
	FErrorMessage varchar(2000)
);

insert into TsUnit set FId='429a0d3b-4328-4243-917a-636f15fe7e08', FCode='Qs.TimerLog', FName='定时器日志', FIcon='quicksilver/image/unit/TimerLog.png', FEditId='541c707d-79dd-4dbb-85fc-1a214fd5fce4', FModuleId='00000000-0000-0000-0008-990000000010', FOpenMode='System', FIsTreeStructure=0, FMaxTreeLevel=null, FIsSlaveUnit=0, FMasterUnitId=null, FSupportUser=0, FSupportDepartment=0, FSupportEditType=0, FSupportAttachment=0, FSupportDataPrivilege=0, FSupportBusinessLog=0, FSupportNote=0, FSupportSort=0, FSupportPrivilegeField=0, FSupportEqualQuery=0, FExtraQueryResultLimit=0, FRecordCreateInfo=0, FRecordUpdateInfo=0, FRecordDeleteInfo=0, FQueryFormAutoQuery=0, FOpenViewPageFirst=0, FDataSource='default', FTable='TsTimerLog', FKeyField='FId', FKeyType='Uuid', FNameField='FTimerId$', FMasterField=null, FHomeClassName='com.jeedsoft.quicksilver.timer.TimerLogHome', FDaoClassName='com.jeedsoft.quicksilver.timer.dao.impl.TimerLogDaoImpl', FServiceClassName='com.jeedsoft.quicksilver.timer.service.impl.TimerLogServiceImpl', FActionClassName='com.jeedsoft.quicksilver.timer.action.impl.TimerLogActionImpl', FUnitFilterSql='', FBusinessFilterSql='', FDescription='', FSupportVersion=0, FUseSystemI18nTable=null, FSupportWorkflow=0, FIsFullTextSearch=0, FSearchAttachment=0;

insert into TsField set FId='9c76ff46-da98-454e-9516-b51a8d9db302', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FCallMode',     FTitle='调用方式', FType='ComboBox-SelectOnly', FSize=10,   FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId='ab460bb2-d8e6-4149-9567-33331596e7e3', FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1,  FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;
insert into TsField set FId='e44b6fd9-98fc-4930-ae59-be788c8880a1', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FClusterNode',  FTitle='集群节点', FType='InputBox-Text',       FSize=50,   FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1,  FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;
insert into TsField set FId='75199554-97d1-4119-bb80-4a66a85b53ef', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FEndTime',      FTitle='结束时间', FType='DateBox-DateTime',    FSize=null, FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1,  FIsNewRow=0,    FListWidth=126, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;
insert into TsField set FId='c8fad809-a9fe-4195-a2da-e88ddcb66e33', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FErrorMessage', FTitle='错误信息', FType='TextBox',             FSize=2000, FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=0, FRowSpan=10, FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;
insert into TsField set FId='9f1337cb-1e90-4bda-8b0b-0cb3ae31eb56', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FId',           FTitle='ID',       FType='InputBox-Key',        FSize=null, FVisible=0, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=0, FDictionaryId=null,                                   FEntityUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FSupportLocalText=null, FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql=null, FSourceType='local', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1,  FIsNewRow=null, FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=null, FHint=null;
insert into TsField set FId='af6efc67-e971-4dab-bc32-aac1ecc61b8d', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FStartTime',    FTitle='开始时间', FType='DateBox-DateTime',    FSize=null, FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1,  FIsNewRow=0,    FListWidth=126, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;
insert into TsField set FId='cae7b8b9-1338-4e5b-bf62-e8a7f13f6801', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FStatus',       FTitle='状态',     FType='ComboBox-SelectOnly', FSize=20,   FVisible=1, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=1, FDictionaryId='3f196d23-7b68-499e-9161-4a4a9287e0e7', FEntityUnitId=null,                                   FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1,  FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;
insert into TsField set FId='10a6aae1-d0e7-4b3b-83ab-7c08dabb5718', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='FTimerId',      FTitle='定时器',   FType='EntityBox',           FSize=null, FVisible=1, FFilterByRole=0, FRequired=1, FReadOnly=0, FQueryable=1, FDictionaryId=null,                                   FEntityUnitId='00000000-0000-0000-0001-000000000022', FSupportLocalText=0,    FLocalTextField=null, FRelationTable=null, FRelationId=null, FSelectListFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=1, FRowSpan=1,  FIsNewRow=0,    FListWidth=150, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FValidation=null, FRelationCapacity=null, FSupportI18n=0,    FHint=null;

insert into TsFieldProperty set FId='6c765dd3-6ac7-429b-aca8-0c7a18959553', FFieldId='75199554-97d1-4119-bb80-4a66a85b53ef', FName='format', FValue='"yyyy-MM-dd HH:mm:ss"';
insert into TsFieldProperty set FId='b9bf2448-3ee2-4c3a-a325-f482ebba63b6', FFieldId='af6efc67-e971-4dab-bc32-aac1ecc61b8d', FName='format', FValue='"yyyy-MM-dd HH:mm:ss"';

java setOrderFields('429a0d3b-4328-4243-917a-636f15fe7e08', 'FStartTime', '1');
java setQueryFormFields('429a0d3b-4328-4243-917a-636f15fe7e08', 'FTimerId,FStartTime,FEndTime,FStatus,FClusterNode,FCallType,FErrorMessage');
java setKeywordFields('429a0d3b-4328-4243-917a-636f15fe7e08', 'FTimerId,FClusterNode');

insert into TsRelation set FId='fd637c92-66eb-4af2-8013-ac0429bc3ae2', FOppositeId='a8b2cc2b-a442-42ad-9fb4-90f8423d8463', FName='定时器日志-定时器', FOppositeName='定时器-定时器日志', FUnitId1='429a0d3b-4328-4243-917a-636f15fe7e08', FUnitId2='00000000-0000-0000-0001-000000000022', FType='field', FTable=null, FField1='FId', FField2='FTimerId', FDeleteAction1='unset', FDeleteAction2='cancel', FPrivilegeTypeId1=null, FPrivilegeTypeId2=null;

insert into TsPage set FId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FName='定时器日志主列表',   FTitle='定时器日志列表', FCode='Qs.TimerLog.List',       FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/TimerLog.png', FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='Qs.TimerLog.prepareList', FLoadHandler=null, FRelationId=null, FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FVisible=1, FDescription=null, FHasViewFrame=null;
insert into TsPage set FId='f0f5b230-8679-4b16-9855-9381733f05c1', FName='定时器日志选择列表', FTitle='定时器日志列表', FCode='Qs.TimerLog.SelectList', FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/TimerLog.png', FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='Qs.TimerLog.prepareList', FLoadHandler=null, FRelationId=null, FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FVisible=1, FDescription=null, FHasViewFrame=null;
insert into TsPage set FId='3b23ac86-1a01-416a-a711-538a589f3398', FName='定时器日志表单',     FTitle='表单',           FCode='Qs.TimerLog.Edit',       FPlatform='Computer', FType='EntityEdit', FIcon='quicksilver/image/unit/Edit.gif',     FUrl='quicksilver/page/template/EntityEdit.jsp', FActionMethodName='Qs.TimerLog.prepareEdit', FLoadHandler=null, FRelationId=null, FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FMasterUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FIsSlavePage=1, FIndex=1,    FDialogWidth=604,  FDialogHeight=453,  FVisible=1, FDescription=null, FHasViewFrame=null;

--定时器日志主列表
insert into TsToolItem set FId='31a9ce8f-6a8d-4991-a963-cad708eaeb05', FPageId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FCode='QuerySchema',       FName='请选择查询方案或输入关键字', FHint='请输入关键字并按回车键查询，或下拉选择查询方案查询。您也可以点击查询框右侧的按钮，增加自定义查询方案。', FLabel=null, FType='ComboBox-Inputable', FAlign='left',  FIndex=1, FWidth=175, FIcon=null,                                FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='QuerySchema',  FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaChange',    FConfirmMessage=null;
insert into TsToolItem set FId='6eb10e75-c524-4216-986c-34441b6ddfe4', FPageId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FCode='QuerySchemaConfig', FName=null,                         FHint='查询方案设置',                                                                                       FLabel=null, FType='Button',             FAlign='left',  FIndex=2, FWidth=0,   FIcon='quicksilver/image/16/Config.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaConfig',    FConfirmMessage=null;
insert into TsToolItem set FId='1049d090-17fe-4b37-b150-1798033650e0', FPageId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FCode='QuerySchemaLock',   FName=null,                         FHint='切换将查询方案与查询表单的锁定状态。锁定后，只显示同时满足查询方案和查询表单条件的数据。',           FLabel=null, FType='Button',             FAlign='left',  FIndex=3, FWidth=0,   FIcon='quicksilver/image/16/LockOpen.png', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaLockClick', FConfirmMessage=null;
insert into TsToolItem set FId='81c5ca78-8fd4-45aa-9d2e-0f91b2b95774', FPageId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FCode='Open',              FName='打开',                       FHint='打开当前选中的记录。如果选中了多笔，第一笔将被打开。',                                               FLabel=null, FType='Button',             FAlign='right', FIndex=2, FWidth=0,   FIcon='quicksilver/image/16/Open.gif',     FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doOpen',                 FConfirmMessage=null;
insert into TsToolItem set FId='08cee841-d3a3-494d-a444-7c7795744f86', FPageId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FCode='Refresh',           FName='刷新',                       FHint='刷新列表内容',                                                                                       FLabel=null, FType='Button',             FAlign='right', FIndex=4, FWidth=0,   FIcon='quicksilver/image/16/Refresh.gif',  FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doRefresh',              FConfirmMessage=null;
insert into TsToolItem set FId='3df7d880-2612-487d-be9e-189a43f3850c', FPageId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FCode='Other',             FName=null,                         FHint=null,                                                                                                 FLabel=null, FType='ComboButton',        FAlign='right', FIndex=5, FWidth=0,   FIcon='quicksilver/image/16/Other.gif',    FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='SubItemTable', FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='None',       FHandlePageId=null, FDefaultEventHandler=null,                                FConfirmMessage=null;
insert into TsToolSubItem set FId='001e9c6c-ce98-4166-b939-039f5b814457', FToolItemId='3df7d880-2612-487d-be9e-189a43f3850c', FCode='ExcelExport', FName='导出 Excel', FExpandMode='None', FIndex=2, FIcon='quicksilver/image/16/Excel.gif',  FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FEventHandler='EntityList.doExcelExport', FConfirmMessage=null;
insert into TsToolItemProperty set FId='3b692fa2-c199-48eb-9767-b8dd150038d4', FToolItemId='31a9ce8f-6a8d-4991-a963-cad708eaeb05', FName='onkeydown', FValue='EntityList.doQuerySchemaKeyDown';

--定时器日志选择列表
insert into TsToolItem set FId='0a12cd1c-7c5f-4497-8e59-a2cb82dfc655', FPageId='f0f5b230-8679-4b16-9855-9381733f05c1', FCode='QuerySchema',       FName='请选择查询方案或输入关键字', FHint='请输入关键字并按回车键查询，或下拉选择查询方案查询。您也可以点击查询框右侧的按钮，增加自定义查询方案。', FLabel=null, FType='ComboBox-Inputable', FAlign='left',  FIndex=1, FWidth=175, FIcon=null,                                FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='QuerySchema', FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaChange',    FConfirmMessage=null;
insert into TsToolItem set FId='ee3ec6f6-a48d-41e9-8fad-f834325c4c7f', FPageId='f0f5b230-8679-4b16-9855-9381733f05c1', FCode='QuerySchemaConfig', FName=null,                         FHint='查询方案设置',                                                                                       FLabel=null, FType='Button',             FAlign='left',  FIndex=2, FWidth=0,   FIcon='quicksilver/image/16/Config.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaConfig',    FConfirmMessage=null;
insert into TsToolItem set FId='091516d7-01e8-4cb7-b743-96fe78d98d91', FPageId='f0f5b230-8679-4b16-9855-9381733f05c1', FCode='QuerySchemaLock',   FName=null,                         FHint='切换将查询方案与查询表单的锁定状态。锁定后，只显示同时满足查询方案和查询表单条件的数据。',           FLabel=null, FType='Button',             FAlign='left',  FIndex=3, FWidth=0,   FIcon='quicksilver/image/16/LockOpen.png', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doQuerySchemaLockClick', FConfirmMessage=null;
insert into TsToolItem set FId='bff825c2-4f93-47a0-8de7-790155d09eb1', FPageId='f0f5b230-8679-4b16-9855-9381733f05c1', FCode='ConfirmSelection',  FName='确定',                       FHint=null,                                                                                                 FLabel=null, FType='Button',             FAlign='right', FIndex=1, FWidth=0,   FIcon='quicksilver/image/16/Ok.gif',       FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doSelectListConfirm',    FConfirmMessage=null;
insert into TsToolItem set FId='58304436-4141-4546-905f-708e8deb1bf5', FPageId='f0f5b230-8679-4b16-9855-9381733f05c1', FCode='Open',              FName='打开',                       FHint='打开当前选中的记录。如果选中了多笔，第一笔将被打开。',                                               FLabel=null, FType='Button',             FAlign='right', FIndex=3, FWidth=0,   FIcon='quicksilver/image/16/Open.gif',     FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,          FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FDefaultEventHandler='EntityList.doOpen',                 FConfirmMessage=null;
insert into TsToolItemProperty set FId='eb080513-c825-4ba1-be6b-6157ecb16d17', FToolItemId='0a12cd1c-7c5f-4497-8e59-a2cb82dfc655', FName='onkeydown', FValue='EntityList.doQuerySchemaKeyDown';

insert into TsForm set FDefault=1, FEditableCondition=null, FGroupMode='Double', FId='366e7dc5-1097-403a-9bf7-40bd89342857', FIndex=1, FName='默认', FPageId=null, FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08';
java setFormFields('366e7dc5-1097-403a-9bf7-40bd89342857', '基本信息', 'be38b543-9f3b-4353-a361-c53b92ccc9ed', null, 'FTimerId,FClusterNode,FCallType,FStatus,FStartTime,FEndTime,FErrorMessage');

insert into TsList set FDefault=0, FId='ffdee429-8c08-48e2-8731-669faef631b9', FIndex=null, FMultiPage=1, FName='定时器定时器日志列表',   FPageId='3a8cdc1d-b6a2-462f-a2ab-6bc7fbf83ad2', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08';
insert into TsList set FDefault=0, FId='91989a56-54f2-4f9e-8a4e-82dfa7540b43', FIndex=null, FMultiPage=1, FName='定时器日志首页列表',     FPageId='9b796431-f132-49d1-b306-5d1d618f9c1b', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08';
insert into TsList set FDefault=0, FId='d8e344e4-6011-4b26-b428-b1d80d7d409e', FIndex=null, FMultiPage=1, FName='定时器日志选择列表',     FPageId='f0f5b230-8679-4b16-9855-9381733f05c1', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08';
insert into TsList set FDefault=1, FId='dc80c55c-89ff-4053-9b7f-fce6119eba5f', FIndex=null, FMultiPage=1, FName='定时器日志列表',		  FPageId=null,                                   FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08';
java setListFields('dc80c55c-89ff-4053-9b7f-fce6119eba5f', 'FTimerId,FStartTime,FEndTime,FStatus,FClusterNode,FCallType,FErrorMessage');
java setListFields('ffdee429-8c08-48e2-8731-669faef631b9', 'FStartTime,FClusterNode,FStatus,FCallType,FErrorMessage');
java setListFields('91989a56-54f2-4f9e-8a4e-82dfa7540b43', 'FTimerId,FClusterNode,FStatus,FStartTime');
java setListFields('d8e344e4-6011-4b26-b428-b1d80d7d409e', 'FTimerId,FClusterNode,FStatus,FStartTime');

insert into TsPrivilege set FId='52fe83d7-da90-4222-b714-4926e326d34e', FName='定时器日志管理', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FModuleId='00000000-0000-0000-0008-990000000010', FPrivilegeTypeId='00000000-0000-0000-1005-000000000006', FUseExisting=0, FSourcePrivilegeId=null, FCanBeUser=0, FCanBeDepartment=0, FCanBeGlobal=1, FUserFields=null, FDepartmentFields=null, FExtraOrSql='',   FEditId='5992c3d2-0b4a-478c-bbfa-2089819ad575', FIndex=null;

insert into TsQuerySchema set FId='5cac8e83-7165-485d-9327-ba77b0c36a11', FUnitId='429a0d3b-4328-4243-917a-636f15fe7e08', FName='全部定时器日志',   FType='condition',  FPublic=1, FTemp=0, FGlobalAutoQuery=0, FShare=0, FUserId=null, FConditionId=null, FSqlSource='None', FSql=null, FIndex=1, FUpdateTime=null, FOriginSchemaId=null;

update TsMenu set FPageId=null where FId='ed7d81db-c846-4b4f-8a8c-72d72ef31062';
delete from TsMenu where FId='1f182f41-29ad-4c55-b0fb-551dd57d42a9';
delete from TsMenu where FId='32b8008d-4d65-403c-8cbd-507bdc5edccd';
insert into TsMenu set	FId='1f182f41-29ad-4c55-b0fb-551dd57d42a9', FParentId='ed7d81db-c846-4b4f-8a8c-72d72ef31062',	FIndex=1,	FName='定时器',			FPageId='690574f3-62bf-4ac7-93b4-2f59ff9e6067', FEnabled=1, FSubMenuSource='MenuTable', FIcon='quicksilver/image/unit/Timer.gif';
insert into TsMenu set	FId='32b8008d-4d65-403c-8cbd-507bdc5edccd', FParentId='ed7d81db-c846-4b4f-8a8c-72d72ef31062',	FIndex=2,	FName='定时器日志',		FPageId='9c0fa5f3-4904-4bfb-a237-26fac1198552', FEnabled=1, FSubMenuSource='MenuTable', FIcon='quicksilver/image/unit/TimerLog.png';

insert into TsDictionary set FBuiltin=1, FId='ab460bb2-d8e6-4149-9567-33331596e7e3', FName='QS-定时器日志-调用方式', FTextAsValue=0;
insert into TsDictionaryItem set FDictionaryId='ab460bb2-d8e6-4149-9567-33331596e7e3', FId='2f058548-2c41-4b56-9950-86684ec0432a', FIndex=1, FParentValue=null, FText='自动调用', FValue='Auto';
insert into TsDictionaryItem set FDictionaryId='ab460bb2-d8e6-4149-9567-33331596e7e3', FId='cb67cacc-29db-4d33-8f70-9c58035f3685', FIndex=2, FParentValue=null, FText='手动调用', FValue='Manual';

insert into TsDictionary set FBuiltin=1, FId='3f196d23-7b68-499e-9161-4a4a9287e0e7', FName='QS-定时器日志-状态', FTextAsValue=0;
insert into TsDictionaryItem set FDictionaryId='3f196d23-7b68-499e-9161-4a4a9287e0e7', FId='4f1b89f8-9708-4220-a8cf-37beb4f5d076', FIndex=1, FParentValue=null, FText='调度中', FValue='Running';
insert into TsDictionaryItem set FDictionaryId='3f196d23-7b68-499e-9161-4a4a9287e0e7', FId='ac772eea-3156-49aa-8083-b536fb8acdb3', FIndex=2, FParentValue=null, FText='成功',   FValue='Success';
insert into TsDictionaryItem set FDictionaryId='3f196d23-7b68-499e-9161-4a4a9287e0e7', FId='a4449c20-d593-407c-9e87-dbb3c9555daa', FIndex=3, FParentValue=null, FText='失败',   FValue='Failed';
insert into TsDictionaryItem set FDictionaryId='3f196d23-7b68-499e-9161-4a4a9287e0e7', FId='a6a4fede-315b-4345-b28b-af1447af5e22', FIndex=4, FParentValue=null, FText='中断',   FValue='FTerminated';
