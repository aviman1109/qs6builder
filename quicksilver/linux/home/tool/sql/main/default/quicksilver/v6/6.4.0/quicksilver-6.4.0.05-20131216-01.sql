delete from TsPage where FId='2b504d36-cb77-4a61-8ea5-18d96a53fd6b';
delete from TsToolItem where FPageId='2b504d36-cb77-4a61-8ea5-18d96a53fd6b';

insert into TsPage set FId='2b504d36-cb77-4a61-8ea5-18d96a53fd6b', FName='欄位選擇列表',			FTitle='欄位',			FCode='Qs.Field.SelectList',			FType='EntityList',   FIcon='quicksilver/image/unit/Field.gif',        FUrl='quicksilver/page/template/EntityList.jsp',   FActionMethodName='Qs.Field.prepareList',          FLoadHandler=null,               FRelationId=null,                                   FUnitId='00000000-0000-0000-0001-000000000002', FMasterUnitId=null,                                   FIsSlavePage=0, FPlatform='Computer', FIndex=null, FDialogWidth=null, FDialogHeight=null, FDescription=null, FVisible=1;
insert into TsToolItem set FId='dd11d8cf-2172-4a47-884c-186e04819ed6', FPageId='2b504d36-cb77-4a61-8ea5-18d96a53fd6b', FCode='ConfirmSelection', FName='確定', FHint=null,                                                   FLabel=null, FType='Button', FAlign='right', FIndex=1, FWidth=null, FIcon='quicksilver/image/16/Ok.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null, FDictionaryId=null, FSubItemRoutine='', FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doSelectListConfirm';
insert into TsToolItem set FId='4f8d1459-a4b2-4bb2-94c3-4010ee4f8b99', FPageId='2b504d36-cb77-4a61-8ea5-18d96a53fd6b', FCode='Open',             FName='打開', FHint='打開當前選中的記錄。如果選中了多筆，第一筆將被打開。', FLabel=null, FType='Button', FAlign='right', FIndex=2, FWidth=null, FIcon='quicksilver/image/16/Open.gif', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null, FDictionaryId=null, FSubItemRoutine='', FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doOpen';

delete from TsTextResource where FId='f6490ca8-2b46-4e5c-b54b-75814f1f478f';
insert into TsTextResource set FId='f6490ca8-2b46-4e5c-b54b-75814f1f478f', FCode='E.Qs.ListFilter.UnitNotMatch',								FValue='列表过滤的单元不匹配。当前单元：${0}，列表过滤代码：${1}。';

--Qs.ListFilter-----------------------------------------------------------------

create table TsListFilter
(
	FId uuid primary key,
	FCode varchar(50) unique,
	FUnitId uuid,
	FSql varchar(2000)
);

insert into TsUnit set FId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FCode='Qs.ListFilter', FName='列表過濾', FIcon='quicksilver/image/unit/ListFilter.png', FEditId='541c707d-79dd-4dbb-85fc-1a214fd5fce4', FModuleId='00000000-0000-0000-0008-990000000020', FOpenMode='System', FIsTreeStructure=0, FMaxTreeLevel=null, FIsSlaveUnit=1, FMasterUnitId='00000000-0000-0000-0001-000000000001', FSupportWorkflow=0, FSupportUser=0, FSupportDepartment=0, FSupportEditType=0, FSupportAttachment=0, FSupportDataPrivilege=0, FSupportVersion=0, FSupportBusinessLog=0, FSupportNote=0, FSupportSort=0, FSupportPrivilegeField=0, FIsFullTextSearch=0, FSearchAttachment=0, FSupportEqualQuery=0, FUseSystemI18nTable=0, FExtraQueryResultLimit=0, FRecordCreateInfo=0, FRecordUpdateInfo=0, FRecordDeleteInfo=0, FViewPageConditionForList=null, FViewPageConditionForLink=null, FDataSource='default', FTable='TsListFilter', FKeyField='FId', FKeyType='Uuid', FNameField='FCode', FMasterField='FUnitId', FHomeClassName='com.jeedsoft.quicksilver.layout.ListFilterHome', FDaoClassName='com.jeedsoft.quicksilver.layout.dao.impl.ListFilterDaoImpl', FServiceClassName='com.jeedsoft.quicksilver.layout.service.impl.ListFilterServiceImpl', FActionClassName='com.jeedsoft.quicksilver.layout.action.impl.ListFilterActionImpl', FWebServiceUniqueField=null, FUnitFilterSql='', FBusinessFilterSql='', FDescription='';

insert into TsField set FId='4ce16087-6a37-4094-b123-103aacb7a8e9', FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FName='FCode',   FTitle='編碼', FType='InputBox-Text', FSize=50,   FVisible=1, FFilterByRole=0, FRequired=1, FReadOnly=0, FQueryable=1, FDictionaryId=null, FEntityUnitId=null,                                   FSupportLocalText=0,    FSupportI18n=0,    FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListConstantFilterSql='',   FSelectListVariableFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=0, FRowSpan=1,  FIsNewRow=0,    FListWidth=200, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint=null, FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData='';
insert into TsField set FId='6982ff74-5ebc-45b4-ab1c-04c741b12e0c', FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FName='FId',     FTitle='ID',   FType='InputBox-Key',  FSize=null, FVisible=0, FFilterByRole=0, FRequired=0, FReadOnly=0, FQueryable=0, FDictionaryId=null, FEntityUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FSupportLocalText=null, FSupportI18n=null, FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListConstantFilterSql=null, FSelectListVariableFilterSql=null, FSourceType='local', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1,  FIsNewRow=null, FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint=null, FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData=null;
insert into TsField set FId='ec189773-7610-4a64-a89a-1f886eaa7a19', FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FName='FSql',    FTitle='SQL',  FType='TextBox',       FSize=2000, FVisible=1, FFilterByRole=0, FRequired=1, FReadOnly=0, FQueryable=1, FDictionaryId=null, FEntityUnitId=null,                                   FSupportLocalText=0,    FSupportI18n=0,    FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListConstantFilterSql='',   FSelectListVariableFilterSql='',   FSourceType='local', FJoinField=null, FSourceField=null, FSource='',   FColSpan=0, FRowSpan=12, FIsNewRow=0,    FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint=null, FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData='';
insert into TsField set FId='3072b588-76e9-4fef-9acd-ec07abcd1561', FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FName='FUnitId', FTitle='單元', FType='EntityBox',     FSize=null, FVisible=0, FFilterByRole=0, FRequired=1, FReadOnly=0, FQueryable=0, FDictionaryId=null, FEntityUnitId='00000000-0000-0000-0001-000000000001', FSupportLocalText=null, FSupportI18n=null, FLocalTextField=null, FRelationTable=null, FRelationCapacity=null, FRelationId=null, FSelectListConstantFilterSql=null, FSelectListVariableFilterSql=null, FSourceType='local', FJoinField=null, FSourceField=null, FSource=null, FColSpan=1, FRowSpan=1,  FIsNewRow=null, FListWidth=100, FListAlign='default', FScale=null, FLabelColor=null, FDefaultValue=null, FHint=null, FValidation=null, FWebServiceListQueryField=null, FWebServiceItemQueryField=null, FWebServiceCreateField=null, FCustomData=null;

insert into TsRelation set FId='906dc590-2c43-4c6c-8e69-04b9d3dba580', FOppositeId='47005a2b-4f42-4e20-b31b-d0610d4356f9', FName='清單過濾-單元', FOppositeName='單元-清單過濾', FUnitId1='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FUnitId2='00000000-0000-0000-0001-000000000001', FType='field', FTable='', FField1='FId', FField2='FUnitId', FDeleteAction1='unset', FDeleteAction2='cascade', FPrivilegeTypeId1=null, FPrivilegeTypeId2=null;

insert into TsPage set FId='7e53d814-7246-429f-b051-a4b5acfdb3a8', FName='列表過濾主列表',   FTitle='列表過濾列表', FCode='Qs.ListFilter.List',       FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/ListFilter.png', FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='Qs.ListFilter.prepareList', FLoadHandler=null, FRelationId=null, FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FDialogMaximized=null, FQueryFormAutoQuery=1, FHasViewFrame=null, FQueryOnLoad=null, FQuerySchemaId=null, FCreateQuerySchemaBox=null, FCreateKeywordBox=null, FToolItemInitArguments=null, FVisible=1, FVisibleCondition=null, FDescription=null;
insert into TsPage set FId='095616df-e902-439b-9763-be687357fac9', FName='列表過濾選擇列表', FTitle='列表過濾列表', FCode='Qs.ListFilter.SelectList', FPlatform='Computer', FType='EntityList', FIcon='quicksilver/image/unit/ListFilter.png', FUrl='quicksilver/page/template/EntityList.jsp', FActionMethodName='Qs.ListFilter.prepareList', FLoadHandler=null, FRelationId=null, FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FMasterUnitId=null,                                   FIsSlavePage=0, FIndex=null, FDialogWidth=null, FDialogHeight=null, FDialogMaximized=null, FQueryFormAutoQuery=1, FHasViewFrame=null, FQueryOnLoad=null, FQuerySchemaId=null, FCreateQuerySchemaBox=null, FCreateKeywordBox=null, FToolItemInitArguments=null, FVisible=1, FVisibleCondition=null, FDescription=null;
insert into TsPage set FId='625e3166-9c46-40ba-ba47-a211ee3ca39f', FName='列表過濾表單',     FTitle='表單',         FCode='Qs.ListFilter.Edit',       FPlatform='Computer', FType='EntityEdit', FIcon='quicksilver/image/unit/Edit.gif',       FUrl='quicksilver/page/template/EntityEdit.jsp', FActionMethodName='Qs.ListFilter.prepareEdit', FLoadHandler=null, FRelationId=null, FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FMasterUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FIsSlavePage=1, FIndex=1,    FDialogWidth=604,  FDialogHeight=453,  FDialogMaximized=null, FQueryFormAutoQuery=1, FHasViewFrame=null, FQueryOnLoad=null, FQuerySchemaId=null, FCreateQuerySchemaBox=null, FCreateKeywordBox=null, FToolItemInitArguments=null, FVisible=1, FVisibleCondition=null, FDescription=null;

--列表過濾主列表
insert into TsToolItem set FId='cfeab5d9-c82b-4495-b35e-beb4cba57bc5', FPageId='7e53d814-7246-429f-b051-a4b5acfdb3a8', FCode='Add',     FName='新增', FHint='新增一筆記錄',                                         FLabel=null, FType='Button',      FAlign='right', FIndex=1, FWidth=0, FIcon='quicksilver/image/16/Add.gif',     FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doAdd';
insert into TsToolItem set FId='467de5a4-8f03-48b5-a84c-a5a203e24639', FPageId='7e53d814-7246-429f-b051-a4b5acfdb3a8', FCode='Open',    FName='打開', FHint='打開當前選中的記錄。如果選中了多筆，第一筆將被打開。', FLabel=null, FType='Button',      FAlign='right', FIndex=2, FWidth=0, FIcon='quicksilver/image/16/Open.gif',    FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doOpen';
insert into TsToolItem set FId='190afcd8-5d42-4147-b2a5-edc6acd08ddf', FPageId='7e53d814-7246-429f-b051-a4b5acfdb3a8', FCode='Delete',  FName='刪除', FHint='刪除當前選中的記錄',                                   FLabel=null, FType='Button',      FAlign='right', FIndex=3, FWidth=0, FIcon='quicksilver/image/16/Delete.gif',  FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doDelete';
insert into TsToolItem set FId='1ec7ead2-3b09-434a-b615-bb01d972504b', FPageId='7e53d814-7246-429f-b051-a4b5acfdb3a8', FCode='Refresh', FName='刷新', FHint='刷新清單內容',                                         FLabel=null, FType='Button',      FAlign='right', FIndex=4, FWidth=0, FIcon='quicksilver/image/16/Refresh.gif', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doRefresh';
insert into TsToolItem set FId='0e66a01d-15bb-4fcb-bc55-07b0ffe62805', FPageId='7e53d814-7246-429f-b051-a4b5acfdb3a8', FCode='Other',   FName=null,   FHint=null,                                                   FLabel=null, FType='ComboButton', FAlign='right', FIndex=5, FWidth=0, FIcon='quicksilver/image/16/Other.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource='SubItemTable', FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='None',       FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler=null;
insert into TsToolSubItem set FId='7bde8d0c-c3f8-4bfa-b0d2-0cca956cf350', FToolItemId='0e66a01d-15bb-4fcb-bc55-07b0ffe62805', FCode='ExcelExport', FName='匯出 Excel', FExpandMode='None', FIndex=1, FIcon='quicksilver/image/16/Excel.gif',  FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FEventHandler='EntityList.doExcelExport';

--列表過濾選擇列表
insert into TsToolItem set FId='ba6c771e-067f-4c1e-a274-045e427057e1', FPageId='095616df-e902-439b-9763-be687357fac9', FCode='ConfirmSelection', FName='確定', FHint=null,                                                   FLabel=null, FType='Button', FAlign='right', FIndex=1, FWidth=0, FIcon='quicksilver/image/16/Ok.gif',   FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null, FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doSelectListConfirm';
insert into TsToolItem set FId='8992514c-cfc8-404f-ac49-b8f145adcf71', FPageId='095616df-e902-439b-9763-be687357fac9', FCode='Add',              FName='新增', FHint='新增一筆記錄',                                         FLabel=null, FType='Button', FAlign='right', FIndex=2, FWidth=0, FIcon='quicksilver/image/16/Add.gif',  FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null, FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doAdd';
insert into TsToolItem set FId='09951df7-f2a9-40dc-be5e-e951e94cac0f', FPageId='095616df-e902-439b-9763-be687357fac9', FCode='Open',             FName='打開', FHint='打開當前選中的記錄。如果選中了多筆，第一筆將被打開。', FLabel=null, FType='Button', FAlign='right', FIndex=3, FWidth=0, FIcon='quicksilver/image/16/Open.gif', FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null, FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityList.doOpen';

--列表過濾表單
insert into TsToolItem set FId='574e3044-c67d-471b-aded-82bddafdd4ce', FPageId='625e3166-9c46-40ba-ba47-a211ee3ca39f', FCode='Save',  FName='保存', FHint=null, FLabel=null, FType='Button',      FAlign='right', FIndex=1, FWidth=0, FIcon='quicksilver/image/16/Save.gif',  FScale=null, FEntityUnitId=null, FDefaultValue=null, FSubItemSource=null,           FDictionaryId=null, FSubItemRoutine=null, FVisibleCondition=null, FEnableCondition=null, FHandleType='JavaScript', FHandlePageId=null, FConfirmMessage=null, FDefaultEventHandler='EntityEdit.doSave';

insert into TsForm set FDefault=1, FEditableCondition=null, FGroupMode='Double', FId='79eef3bc-ab2a-45ca-8606-d5cda5412cc8', FIndex=1, FName='默認', FPageId=null, FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821';
java setFormFields('79eef3bc-ab2a-45ca-8606-d5cda5412cc8', '基本資訊', '3fbdac91-1598-41e4-9b6c-6ed562b26af0', null, 'FCode,FSql');

insert into TsList set FDefault=1, FId='03110053-af03-4224-8fa7-ea49bcafc5d1', FIndex=null, FMultiPage=1, FName='列表過濾列表',			FPageId=null,                                   FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821';
insert into TsList set FDefault=0, FId='a18bbebb-ea4b-478b-b5df-6f4feb33dea1', FIndex=null, FMultiPage=1, FName='列表過濾選擇列表',     FPageId='095616df-e902-439b-9763-be687357fac9', FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821';
insert into TsList set FDefault=0, FId='19df81f5-e7ce-4587-bf73-10873ba973ce', FIndex=null, FMultiPage=1, FName='列表過濾首頁列表',     FPageId='9b796431-f132-49d1-b306-5d1d618f9c1b', FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821';
java setListFields('03110053-af03-4224-8fa7-ea49bcafc5d1', 'FCode,FSql');
java setListFields('a18bbebb-ea4b-478b-b5df-6f4feb33dea1', 'FCode,FSql');
java setListFields('19df81f5-e7ce-4587-bf73-10873ba973ce', 'FCode,FSql');

insert into TsSlaveUnitPrivilege set FId='32281d7b-5712-476b-b7e8-70ba4d9c9669', FUnitId='3650ea5e-ab48-4c3f-bcc3-21e96468a821', FCreatePrivilegeTypeId='00000000-0000-0000-1005-000000000003', FReadPrivilegeTypeId='00000000-0000-0000-1005-000000000003', FReadUserFieldName='', FUpdatePrivilegeTypeId='00000000-0000-0000-1005-000000000003', FUpdateUserFieldName='', FDeletePrivilegeTypeId='00000000-0000-0000-1005-000000000003', FDeleteUserFieldName='';
